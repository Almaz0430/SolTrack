# üéµ Music NFT Marketplace

–ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è, –ø—Ä–æ–¥–∞–∂–∏ –∏ –ø–æ–∫—É–ø–∫–∏ –º—É–∑—ã–∫–∞–ª—å–Ω—ã—Ö NFT –Ω–∞ –±–ª–æ–∫—á–µ–π–Ω–µ Solana.

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üéº –°–æ–∑–¥–∞–Ω–∏–µ –º—É–∑—ã–∫–∞–ª—å–Ω—ã—Ö NFT
- **–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ**: –Ω–∞–∑–≤–∞–Ω–∏–µ, –∂–∞–Ω—Ä, BPM, —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å, —Ü–µ–Ω–∞
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–∞–π–ª–æ–≤**: –∑–∞–≥—Ä—É–∑–∫–∞ –æ–±–ª–æ–∂–∫–∏ –∏ –∞—É–¥–∏–æ —Ñ–∞–π–ª–æ–≤ –≤ IPFS
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –º–∏–Ω—Ç**: —Å–æ–∑–¥–∞–Ω–∏–µ NFT —Å –ø—Ä–∏–≤—è–∑–∫–æ–π –∫ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º

### üí∞ –¢–æ—Ä–≥–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- **–ü—Ä–æ–¥–∞–∂–∞ NFT**: —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ü–µ–Ω—ã –≤ SOL
- **–ü–æ–∫—É–ø–∫–∞ NFT**: –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Å –ø–µ—Ä–µ–≤–æ–¥–æ–º —Å—Ä–µ–¥—Å—Ç–≤
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ü–µ–Ω–æ–π**: –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ü–µ–Ω—ã –≤–ª–∞–¥–µ–ª—å—Ü–µ–º

### üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤**: —Ç–æ–ª—å–∫–æ –≤–ª–∞–¥–µ–ª–µ—Ü –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω—è—Ç—å —Ü–µ–Ω—É
- **–í–∞–ª–∏–¥–∞—Ü–∏—è**: –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ—Å—Ç–∏ —Å—Ä–µ–¥—Å—Ç–≤ –ø—Ä–∏ –ø–æ–∫—É–ø–∫–µ
- **PDA –∞–∫–∫–∞—É–Ω—Ç—ã**: –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö NFT

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –°–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç (Rust + Anchor)
```rust
// –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
pub fn create_music_nft()    // –°–æ–∑–¥–∞–Ω–∏–µ NFT
pub fn buy_music_nft()       // –ü–æ–∫—É–ø–∫–∞ NFT  
pub fn update_nft_price()    // –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ü–µ–Ω—ã
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö NFT
```rust
pub struct MusicNftData {
    pub title: String,           // –ù–∞–∑–≤–∞–Ω–∏–µ —Ç—Ä–µ–∫–∞/–∞–ª—å–±–æ–º–∞
    pub symbol: String,          // –°–∏–º–≤–æ–ª
    pub uri: String,             // URI –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –≤ IPFS
    pub genre: String,           // –ñ–∞–Ω—Ä
    pub price: u64,              // –¶–µ–Ω–∞ –≤ lamports
    pub bpm: u16,                // BPM
    pub key: String,             // –¢–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
    pub owner: Pubkey,           // –í–ª–∞–¥–µ–ª–µ—Ü NFT
    pub mint: Pubkey,            // Mint –∞–∫–∫–∞—É–Ω—Ç
    pub amount: u32,             // –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–ø–∏–π
    pub amount_sold: u32,        // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–¥–∞–Ω–Ω—ã—Ö –∫–æ–ø–∏–π
    pub is_for_sale: bool,       // –ü—Ä–æ–¥–∞–µ—Ç—Å—è –ª–∏ NFT
}
```

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Rust 1.70+
- Solana CLI 1.16+
- Anchor Framework 0.31+
- Node.js 16+
- Yarn

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Solana CLI
sh -c "$(curl -sSfL https://release.solana.com/v1.16.0/install)"

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Anchor
npm install -g @coral-xyz/anchor-cli

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –ø—Ä–æ–µ–∫—Ç–∞
yarn install
```

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
```bash
# –ó–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∫–ª–∞—Å—Ç–µ—Ä–∞
solana-test-validator --reset

# –í –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ - –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
anchor test
```

### –°–±–æ—Ä–∫–∞ –∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
```bash
# –°–±–æ—Ä–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º—ã
anchor build

# –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ devnet
anchor deploy --provider.cluster devnet
```

## üì± –§—Ä–æ–Ω—Ç–µ–Ω–¥ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å @solana/web3.js
```javascript
import { Connection, PublicKey, Transaction } from '@solana/web3.js';
import { Program, AnchorProvider } from '@coral-xyz/anchor';

// –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ø—Ä–æ–≥—Ä–∞–º–º–µ
const program = new Program(idl, programId, provider);

// –°–æ–∑–¥–∞–Ω–∏–µ NFT
const tx = await program.methods
  .createMusicNft(
    "My Track",                    // title
    "MUS",                         // symbol
    "ipfs://QmFakeMetaUri",        // uri
    "Electronic",                  // genre
    new anchor.BN(1000000000),     // price –≤ lamports (1 SOL)
    128,                           // bpm
    "C Major"                      // key
  )
  .accounts({
    authority: wallet.publicKey,
    payer: wallet.publicKey,
    mint: mint.publicKey,
    tokenAccount: tokenAccount,
    nftData: nftDataPda,
    tokenProgram: TOKEN_PROGRAM_ID,
    systemProgram: SystemProgram.programId,
  })
  .rpc();

// –ü–æ–∫—É–ø–∫–∞ NFT
const buyTx = await program.methods
  .buyMusicNft()
  .accounts({
    buyer: buyer.publicKey,
    sellerAuthority: seller.publicKey,
    sellerTokenAccount: sellerTokenAccount,
    buyerTokenAccount: buyerTokenAccount,
    nftData: nftDataPda,
    tokenProgram: TOKEN_PROGRAM_ID,
    systemProgram: SystemProgram.programId,
  })
  .rpc();
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∫–æ—à–µ–ª—å–∫–∞–º–∏
```javascript
// Phantom Wallet
const provider = window.solana;
if (provider.isPhantom) {
  await provider.connect();
  const publicKey = provider.publicKey;
}

// Solflare Wallet
const provider = window.solflare;
if (provider.isSolflare) {
  await provider.connect();
  const publicKey = provider.publicKey;
}
```

## üé® UI/UX –§—É–Ω–∫—Ü–∏–∏

### –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è NFT
- –ü–æ–ª–µ –¥–ª—è –Ω–∞–∑–≤–∞–Ω–∏—è —Ç—Ä–µ–∫–∞/–∞–ª—å–±–æ–º–∞
- –ü–æ–ª–µ –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏—è
- –ó–∞–≥—Ä—É–∑–∫–∞ –æ–±–ª–æ–∂–∫–∏ (image)
- –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞ —Ç—Ä–µ–∫–∞ (mp3/wav)
- –í—ã–±–æ—Ä –∂–∞–Ω—Ä–∞, BPM, —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ü–µ–Ω—ã –≤ SOL
- –ö–Ω–æ–ø–∫–∞ "–ó–∞–≥—Ä—É–∑–∏—Ç—å –∏ –ú–∏–Ω—Ç–∏—Ç—å"

### –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ NFT
- –ö–∞—Ä—Ç–æ—á–∫–∏ —Å –ø—Ä–µ–≤—å—é
- –ù–∞–∑–≤–∞–Ω–∏–µ –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
- –¶–µ–Ω–∞ –≤ SOL
- –ö–Ω–æ–ø–∫–∞ "–ö—É–ø–∏—Ç—å"
- –°—Ç–∞—Ç—É—Å –ø—Ä–æ–¥–∞–∂–∏

### –ü—Ä–æ—Ü–µ—Å—Å –ø–æ–∫—É–ø–∫–∏
1. –û—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª–∫–∏ –∫–æ—à–µ–ª—å–∫–∞
2. –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
3. –ü–µ—Ä–µ–≤–æ–¥ NFT –≤ –∫–æ—à–µ–ª–µ–∫ –ø–æ–∫—É–ø–∞—Ç–µ–ª—è
4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –ø—Ä–æ–¥–∞–∂–∏

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### Anchor.toml
```toml
[programs.localnet]
music_nft = "9ysQaigie6LHeqMEWGMWBYkdXFg4zyHhBnxzmZdMzG7T"

[provider]
cluster = "http://127.0.0.1:8899"
wallet = "~/.config/solana/id.json"
```

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```bash
# .env
SOLANA_RPC_URL=https://api.devnet.solana.com
WALLET_PRIVATE_KEY=your_private_key
PINATA_API_KEY=your_pinata_key
PINATA_SECRET_KEY=your_pinata_secret
```

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
music_nft/
‚îú‚îÄ‚îÄ programs/
‚îÇ   ‚îî‚îÄ‚îÄ music_nft/
‚îÇ       ‚îî‚îÄ‚îÄ src/
‚îÇ           ‚îî‚îÄ‚îÄ lib.rs          # –û—Å–Ω–æ–≤–Ω–æ–π —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç
‚îú‚îÄ‚îÄ tests/
‚îÇ   ‚îî‚îÄ‚îÄ music_nft.ts            # –¢–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ target/
‚îÇ   ‚îî‚îÄ‚îÄ deploy/
‚îÇ       ‚îî‚îÄ‚îÄ music_nft.so        # –°–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞
‚îú‚îÄ‚îÄ frontend-example.html        # –ü—Ä–∏–º–µ—Ä —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
‚îú‚îÄ‚îÄ Anchor.toml                  # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Anchor
‚îî‚îÄ‚îÄ README.md                    # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
```bash
# –í—Å–µ —Ç–µ—Å—Ç—ã
anchor test

# –¢–æ–ª—å–∫–æ unit —Ç–µ—Å—Ç—ã
cargo test

# –¢–æ–ª—å–∫–æ integration —Ç–µ—Å—Ç—ã
yarn test
```

### –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ NFT —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏
- ‚úÖ –ü–æ–∫—É–ø–∫–∞ NFT
- ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ü–µ–Ω—ã
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

## üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
```bash
solana-test-validator --reset
anchor test
```

### Devnet
```bash
solana config set --url devnet
anchor deploy --provider.cluster devnet
```

### Mainnet
```bash
solana config set --url mainnet-beta
anchor deploy --provider.cluster mainnet-beta
```

## üìù API Reference

### create_music_nft
–°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π –º—É–∑—ã–∫–∞–ª—å–Ω—ã–π NFT —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `title: String` - –ù–∞–∑–≤–∞–Ω–∏–µ —Ç—Ä–µ–∫–∞
- `symbol: String` - –°–∏–º–≤–æ–ª NFT
- `uri: String` - URI –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –≤ IPFS
- `genre: String` - –ñ–∞–Ω—Ä –º—É–∑—ã–∫–∏
- `price: u64` - –¶–µ–Ω–∞ –≤ lamports
- `bpm: u16` - BPM —Ç—Ä–µ–∫–∞
- `key: String` - –¢–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### buy_music_nft
–ü–æ–∫—É–ø–∞–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π NFT.

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- NFT –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ –ø—Ä–æ–¥–∞–∂–µ
- –£ –ø–æ–∫—É–ø–∞—Ç–µ–ª—è –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ SOL
- –î–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω—ã —Ç–æ–∫–µ–Ω –∞–∫–∫–∞—É–Ω—Ç—ã

### update_nft_price
–ò–∑–º–µ–Ω—è–µ—Ç —Ü–µ–Ω—É NFT (—Ç–æ–ª—å–∫–æ –¥–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–∞).

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `new_price: u64` - –ù–æ–≤–∞—è —Ü–µ–Ω–∞ –≤ lamports

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

1. Fork —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
2. –°–æ–∑–¥–∞–π—Ç–µ feature branch
3. –í–Ω–µ—Å–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
4. –î–æ–±–∞–≤—å—Ç–µ —Ç–µ—Å—Ç—ã
5. –°–æ–∑–¥–∞–π—Ç–µ Pull Request

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - —Å–º. —Ñ–∞–π–ª LICENSE –¥–ª—è –¥–µ—Ç–∞–ª–µ–π.

## üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:
- –°–æ–∑–¥–∞–π—Ç–µ Issue –≤ GitHub
- –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ Solana
- –ò–∑—É—á–∏—Ç–µ –ø—Ä–∏–º–µ—Ä—ã –≤ –ø–∞–ø–∫–µ examples/

---

**–°–æ–∑–¥–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è –º—É–∑—ã–∫–∞–ª—å–Ω–æ–≥–æ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ Solana**
